// c5efa7_fpga_bup_qsys_tristate_conduit_pin_sharer.v

// This file was auto-generated from altera_tristate_conduit_pin_sharer_hw.tcl.  If you edit it your changes
// will probably be lost.
// 
// Generated using ACDS version 12.1sp1 243 at 2013.02.13.15:13:14

`timescale 1 ps / 1 ps
module c5efa7_fpga_bup_qsys_tristate_conduit_pin_sharer (
		input  wire        clk_clk,                        //   clk.clk
		input  wire        reset_reset,                    // reset.reset
		output wire        request,                        //   tcm.request
		input  wire        grant,                          //      .grant
		output wire [0:0]  ssram_tcm_outputenable_n_out,   //      .ssram_tcm_outputenable_n_out_out
		output wire [1:0]  ssram_tcm_byteenable_n_out,     //      .ssram_tcm_byteenable_n_out_out
		output wire [0:0]  ssram_tcm_write_n_out,          //      .ssram_tcm_write_n_out_out
		output wire [0:0]  ssram_tcm_chipselect_n_out,     //      .ssram_tcm_chipselect_n_out_out
		output wire [0:0]  ext_flash_tcm_read_n_out,       //      .ext_flash_tcm_read_n_out_out
		output wire [0:0]  ext_flash_tcm_write_n_out,      //      .ext_flash_tcm_write_n_out_out
		output wire [0:0]  ext_flash_tcm_chipselect_n_out, //      .ext_flash_tcm_chipselect_n_out_out
		output wire [25:0] fsm_add,                        //      .fsm_add_out
		output wire [15:0] fsm_data,                       //      .fsm_data_out
		input  wire [15:0] fsm_data_in,                    //      .fsm_data_in
		output wire        fsm_data_outen,                 //      .fsm_data_outen
		input  wire        tcs0_request,                   //  tcs0.request
		output wire        tcs0_grant,                     //      .grant
		input  wire [25:0] tcs0_address_out,               //      .address_out
		input  wire [0:0]  tcs0_read_n_out,                //      .read_n_out
		input  wire [0:0]  tcs0_write_n_out,               //      .write_n_out
		input  wire [15:0] tcs0_data_out,                  //      .data_out
		output wire [15:0] tcs0_data_in,                   //      .data_in
		input  wire        tcs0_data_outen,                //      .data_outen
		input  wire [0:0]  tcs0_chipselect_n_out,          //      .chipselect_n_out
		input  wire        tcs1_request,                   //  tcs1.request
		output wire        tcs1_grant,                     //      .grant
		input  wire [20:0] tcs1_address_out,               //      .address_out
		input  wire [0:0]  tcs1_outputenable_n_out,        //      .outputenable_n_out
		input  wire [1:0]  tcs1_byteenable_n_out,          //      .byteenable_n_out
		input  wire [0:0]  tcs1_write_n_out,               //      .write_n_out
		input  wire [15:0] tcs1_data_out,                  //      .data_out
		output wire [15:0] tcs1_data_in,                   //      .data_in
		input  wire        tcs1_data_outen,                //      .data_outen
		input  wire [0:0]  tcs1_chipselect_n_out           //      .chipselect_n_out
	);

	wire  [1:0] arbiter_grant_data;        // arbiter:next_grant -> pin_sharer:next_grant
	wire        arbiter_grant_ready;       // pin_sharer:ack -> arbiter:ack
	wire        pin_sharer_tcs1_arb_valid; // pin_sharer:arb_ssram_tcm -> arbiter:sink1_valid
	wire        pin_sharer_tcs0_arb_valid; // pin_sharer:arb_ext_flash_tcm -> arbiter:sink0_valid

	c5efa7_fpga_bup_qsys_tristate_conduit_pin_sharer_pin_sharer pin_sharer (
		.clk                            (clk_clk),                        //      clk.clk
		.reset                          (reset_reset),                    //    reset.reset
		.request                        (request),                        //      tcm.request
		.grant                          (grant),                          //         .grant
		.ssram_tcm_outputenable_n_out   (ssram_tcm_outputenable_n_out),   //         .ssram_tcm_outputenable_n_out_out
		.ssram_tcm_byteenable_n_out     (ssram_tcm_byteenable_n_out),     //         .ssram_tcm_byteenable_n_out_out
		.ssram_tcm_write_n_out          (ssram_tcm_write_n_out),          //         .ssram_tcm_write_n_out_out
		.ssram_tcm_chipselect_n_out     (ssram_tcm_chipselect_n_out),     //         .ssram_tcm_chipselect_n_out_out
		.ext_flash_tcm_read_n_out       (ext_flash_tcm_read_n_out),       //         .ext_flash_tcm_read_n_out_out
		.ext_flash_tcm_write_n_out      (ext_flash_tcm_write_n_out),      //         .ext_flash_tcm_write_n_out_out
		.ext_flash_tcm_chipselect_n_out (ext_flash_tcm_chipselect_n_out), //         .ext_flash_tcm_chipselect_n_out_out
		.fsm_add                        (fsm_add),                        //         .fsm_add_out
		.fsm_data                       (fsm_data),                       //         .fsm_data_out
		.fsm_data_in                    (fsm_data_in),                    //         .fsm_data_in
		.fsm_data_outen                 (fsm_data_outen),                 //         .fsm_data_outen
		.tcs0_request                   (tcs0_request),                   //     tcs0.request
		.tcs0_grant                     (tcs0_grant),                     //         .grant
		.tcs0_tcm_address_out           (tcs0_address_out),               //         .address_out
		.tcs0_tcm_read_n_out            (tcs0_read_n_out),                //         .read_n_out
		.tcs0_tcm_write_n_out           (tcs0_write_n_out),               //         .write_n_out
		.tcs0_tcm_data_out              (tcs0_data_out),                  //         .data_out
		.tcs0_tcm_data_in               (tcs0_data_in),                   //         .data_in
		.tcs0_tcm_data_outen            (tcs0_data_outen),                //         .data_outen
		.tcs0_tcm_chipselect_n_out      (tcs0_chipselect_n_out),          //         .chipselect_n_out
		.tcs1_request                   (tcs1_request),                   //     tcs1.request
		.tcs1_grant                     (tcs1_grant),                     //         .grant
		.tcs1_tcm_address_out           (tcs1_address_out),               //         .address_out
		.tcs1_tcm_outputenable_n_out    (tcs1_outputenable_n_out),        //         .outputenable_n_out
		.tcs1_tcm_byteenable_n_out      (tcs1_byteenable_n_out),          //         .byteenable_n_out
		.tcs1_tcm_write_n_out           (tcs1_write_n_out),               //         .write_n_out
		.tcs1_tcm_data_out              (tcs1_data_out),                  //         .data_out
		.tcs1_tcm_data_in               (tcs1_data_in),                   //         .data_in
		.tcs1_tcm_data_outen            (tcs1_data_outen),                //         .data_outen
		.tcs1_tcm_chipselect_n_out      (tcs1_chipselect_n_out),          //         .chipselect_n_out
		.ack                            (arbiter_grant_ready),            //    grant.ready
		.next_grant                     (arbiter_grant_data),             //         .data
		.arb_ssram_tcm                  (pin_sharer_tcs1_arb_valid),      // tcs1_arb.valid
		.arb_ext_flash_tcm              (pin_sharer_tcs0_arb_valid)       // tcs0_arb.valid
	);

	c5efa7_fpga_bup_qsys_tristate_conduit_pin_sharer_arbiter arbiter (
		.clk         (clk_clk),                   //       clk.clk
		.reset       (reset_reset),               // clk_reset.reset
		.ack         (arbiter_grant_ready),       //     grant.ready
		.next_grant  (arbiter_grant_data),        //          .data
		.sink0_valid (pin_sharer_tcs0_arb_valid), //     sink0.valid
		.sink1_valid (pin_sharer_tcs1_arb_valid)  //     sink1.valid
	);

endmodule
